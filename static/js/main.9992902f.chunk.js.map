{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Login/Login.module.css","components/Header/Header.module.css","components/GlobalError/GlobalError.module.css","assets/images/user.png","assets/images/preloader.gif","components/common/Loading/Loading.js","redux/profile-reducer.js","redux/dialogs-reducer.js","api.js/api.js","components/Users/Users.module.css","reportWebVitals.js","components/Navbar/Navbar.js","utils/validators/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/user-selectors.js","components/Users/UsersContainer.js","components/Header/Header.js","redux/auth-reducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/app-reducer.js","redux/sidebar-reducer.js","redux/headers-reducer.js","redux/redux-store.js","hoc/WithSuspense.js","assets/images/ошибка.png","components/GlobalError/GlobalError.js","App.js","index.js"],"names":["module","exports","Preloader","props","src","preloader","alt","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","GET_ERROR_PROFILE_INFO","GET_NOT_ERROR","initialState","posts","id","message","countLike","profile","status","errors","addPostActionCreator","newPostText","type","setUserStatus","getErrorProfileInfo","error","getUserProfileThunk","userId","dispatch","a","userAPI","getProfile","response","data","getStatus","profileAPI","updateStatus","resultCode","savePhoto","file","photos","saveProfile","getState","auth","messages","Promise","reject","profileReducer","state","action","newPost","SEND_MESSAGE","dialogs","name","sendMessageCreator","newMessageBody","dialogsReducer","body","instance","axios","baseURL","withCredentials","headers","getUsers","currentPage","pageSize","get","then","follow","post","unfollow","delete","authAPI","me","login","email","password","rememberMe","captcha","logout","put","photoFile","formData","FormData","append","securityAPI","getCaptchaUrl","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","activeLink","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","uniqueUrlName","small","large","followed","totalUsersCount","isFetching","followingInProgress","portionSize","followSuccess","userID","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","count","filter","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","num","paginator","button","onClick","p","cn","selectedPage","pageNumber","number","e","onPageChanged","lastbutton","User","contentUser","user","userPhoto","disabled","some","Users","contentUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getIsAuth","isAuth","getPortionSize","UsersContainer","setCurrentPage","requiestUsers","this","page","React","Component","compose","connect","bind","totalCount","Header","header","text","loginBlock","ProfileImage","SET_USER_DATA","GET_ERROR","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","getCaptchaUrlSuccess","getError","getAuthUserDataThunk","url","authReducer","HeaderContainer","LoginForm","useForm","register","handleSubmit","onSubmit","input","ref","required","placeholder","div","SET_INITIALIZED","SET_GLOBAL_ERROR","initialized","globalError","appReducer","sidebarReducer","headerReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","_","GlobalError","container","display","img","errorText","hr","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","reason","promise","initializeApp","addEventListener","removeEventListener","exact","path","render","AppContainer","all","setGlobalError","AppComponent","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9992902f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__pVIQH\",\"item\":\"Navbar_item__2uLAU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Login_div__j6B19\",\"login\":\"Login_login__xyAXz\",\"rememberMe\":\"Login_rememberMe__xlxSe\",\"error\":\"Login_error__3fI5f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__24Jo4\",\"text\":\"Header_text__32Bhx\",\"loginBlock\":\"Header_loginBlock__3WVlx\",\"login\":\"Header_login__3e5lR\",\"button\":\"Header_button__2KlsC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"GlobalError_container__3Fwnd\",\"exit\":\"GlobalError_exit__1zybV\",\"display\":\"GlobalError_display__2-qPy\",\"img\":\"GlobalError_img__c76w-\",\"errorText\":\"GlobalError_errorText__35Bbe\",\"hr\":\"GlobalError_hr__1c-fn\"};","export default __webpack_public_path__ + \"static/media/user.ee9a9e57.png\";","export default __webpack_public_path__ + \"static/media/preloader.aec42a44.gif\";","import preloader from \"../../../assets/images/preloader.gif\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} alt={''}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader;","import {profileAPI, userAPI} from \"../api.js/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\nconst GET_ERROR_PROFILE_INFO = 'GET_ERROR_PROFILE_INFO';\r\nconst GET_NOT_ERROR = 'GET_NOT_ERROR';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Я - гуль', countLike: 200},\r\n        {id: 2, message: 'Hi, how are you?', countLike: 15},\r\n        {id: 3, message: 'It\\'s my first post', countLike: 20}\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n    errors: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                countLike: 1\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.photos\r\n                }\r\n            };\r\n        case GET_ERROR_PROFILE_INFO:\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            };\r\n        case GET_NOT_ERROR:\r\n            return {\r\n                ...state,\r\n                error: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setUserStatus = (status) => ({type: SET_STATUS, status})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\nexport const getErrorProfileInfo = (error) => ({type: GET_ERROR_PROFILE_INFO, error})\r\nexport const getNotError = (error) => ({type: GET_NOT_ERROR, error})\r\n\r\n\r\nexport const getUserProfileThunk = (userId) => async (dispatch) => {\r\n    let response = await userAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status));\r\n    }\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfileThunk(userId));\r\n        dispatch(getNotError(response.data.messages ? response.data.messages[0] : ''));\r\n    } else {\r\n        dispatch(getErrorProfileInfo(response.data.messages ? response.data.messages[0] : ''));\r\n        return Promise.reject();\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dima'},\r\n        {id: 2, name: 'Sergey'},\r\n        {id: 3, name: 'Nikita'},\r\n        {id: 4, name: 'Andrey'},\r\n        {id: 5, name: 'Pasha'},\r\n        {id: 6, name: 'Daniil'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'Hello'},\r\n        {id: 3, message: 'Hey'},\r\n        {id: 4, message: 'Hey'},\r\n        {id: 5, message: 'Hey'}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n\t\t\tlet body = action.newMessageBody;\r\n\t\t\treturn {\r\n                ...state,\r\n\t\t\t\tmessages: [...state.messages, {id: 7, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer;","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '90e4be0e-a363-4e2c-a8cd-2b1ea5bafde5'\r\n    }\r\n})\r\n\r\nexport const userAPI = {\r\n     getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status})\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentUsers\":\"Users_contentUsers__YBTbs\",\"contentUser\":\"Users_contentUser__3OxDZ\",\"userPhoto\":\"Users_userPhoto__IL7cy\",\"user\":\"Users_user__3wVf5\",\"selectedPage\":\"Users_selectedPage__3NS7W\",\"number\":\"Users_number__3EAxQ\",\"button\":\"Users_button__1_IDG\",\"lastbutton\":\"Users_lastbutton__-2EMM\",\"paginator\":\"Users_paginator__1xvIQ\",\"pageNumber\":\"Users_pageNumber__30oYF\",\"page\":\"Users_page__11puF\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import s from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nlet Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {userAPI} from \"../api.js/api\";\r\nimport {updateObjectInArray} from \"../utils/validators/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\n/*var initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}*/\r\n\r\nvar initialState = {\r\n\r\n    users: [\r\n        {\r\n            name: 'ArtemAltunin',\r\n            id: 15995,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'ArtemAlt',\r\n            id: 15994,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'Oleganheadhunter',\r\n            id: 15993,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'ottacke',\r\n            id: 15992,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'TienBot',\r\n            id: 15991,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'MaxF',\r\n            id: 15990,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'karenm',\r\n            id: 15989,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'karenmrdn',\r\n            id: 15988,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'Bekzat-Akhmetov',\r\n            id: 15987,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'Bekzat',\r\n            id: 15986,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'MissAvatar',\r\n            id: 15985,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'aliaksei6777',\r\n            id: 15984,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'sergeiusachev',\r\n            id: 15983,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'Nazar_Havuchak_1',\r\n            id: 15982,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'sedoy604',\r\n            id: 15981,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'Nazar_Havuchak',\r\n            id: 15980,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'ILMAT',\r\n            id: 15979,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'minde',\r\n            id: 15978,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'Roman_Lukichoy',\r\n            id: 15977,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        },\r\n        {\r\n            name: 'rng13',\r\n            id: 15976,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        }\r\n    ],\r\n    pageSize: 20,\r\n    totalUsersCount: 10695,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 15\r\n}\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = (userID) => ({type: FOLLOW, userID})\r\nexport const unfollowSuccess = (userID) => ({type: UNFOLLOW, userID})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\nexport const requiestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await userAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import s from \"../../Users/Users.module.css\";\r\nimport cn from 'classnames';\r\nimport {useState} from \"react\";\r\n\r\nconst Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n    let back = '<=';\r\n    let next = '=>';\r\n\r\n    return (\r\n        <div className={s.num}>\r\n            <div className={s.paginator}>\r\n                {portionNumber === 1 && <button className={s.button}>{back}</button>}\r\n                {portionNumber > 1 &&\r\n                <button className={s.button} onClick={ () => { setPortionNumber(portionNumber -1) }}>{back}</button>}\r\n            {pages\r\n                .filter( p => p >= leftPortionPageNumber && p <= rightPortionPageNumber )\r\n                .map((p) => {\r\n                return <span className={cn({[s.selectedPage]: props.currentPage === p}, s.pageNumber) || s.number}\r\n                             key = {p}\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(p)\r\n                             }}>{p}</span>\r\n            })}\r\n                {portionCount > portionNumber && <button className={s.button} onClick={() => {setPortionNumber(portionNumber + 1)}}>{next}</button>}\r\n                {portionCount === portionNumber && <button className={s.lastbutton}>{next}</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;\r\n","import s from \"./Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\n\r\nlet User = (props) => {\r\n\r\n    return (\r\n        <div className={s.contentUser}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + props.user.id}>\r\n                                <img\r\n                                    src={props.user.photos.small != null ? props.user.photos.small : userPhoto}\r\n                                    className={s.userPhoto}\r\n                                    alt=''/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {props.user.followed\r\n                                ? <button className={s.button}\r\n                                          disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                                          onClick={() => {\r\n                                              props.unfollow(props.user.id);\r\n                                          }}>Unfollow</button>\r\n                                : <button className={s.button}\r\n                                          disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                                          onClick={() => {\r\n                                              props.follow(props.user.id);\r\n                                          }}>Follow</button>}\r\n                                </div>\r\n                    </span>\r\n                        <span>\r\n                            <span>\r\n                                <div>{props.user.name}</div>\r\n                                <div>{props.user.status}</div>\r\n                            </span>\r\n                            <span>\r\n                                <div>{'u.location.county'}</div>\r\n                                <div>{'u.location.city'}</div>\r\n                            </span>\r\n                        </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import s from \"./Users.module.css\";\r\nimport React from 'react';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n    return (\r\n        <div className={s.contentUsers}>\r\n            <div>\r\n                <Paginator className={s.paginator} currentPage={props.currentPage}\r\n                           totalItemsCount={props.totalUsersCount} pageSize={props.pageSize}\r\n                           onPageChanged={props.onPageChanged} portionSize={props.portionSize}/>\r\n            </div>\r\n            {\r\n                props.users.map(u => <User user={u} key={u.id} followingInProgress={props.followingInProgress}\r\n                                           unfollow={props.unfollow} follow={props.follow}/>\r\n                )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, users =>\r\n    users.filter(u => true)\r\n)\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\nexport const getIsAuth = (state) => {\r\n    return state.usersPage.isAuth;\r\n}\r\nexport const getPortionSize= (state) => {\r\n    return state.usersPage.portionSize;\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {\r\n    follow,\r\n    requiestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from '../../redux/users-reducer';\r\nimport {connect} from 'react-redux';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Loading/Loading\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress, getIsAuth,\r\n    getIsFetching,\r\n    getPageSize, getPortionSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/user-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {page, pageSize} = this.props;\r\n        this.props.requiestUsers(page, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.requiestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ?\r\n                <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.page}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   portionSize={this.props.portionSize}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        page: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, requiestUsers})(UsersContainer)\r\n)","import s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\n\r\n\r\nlet Header = (props) => {\r\n\r\n\treturn(\r\n\t\t<header className = {s.header}>\r\n\t\t\t<img src=\"https://www.zastavki.com/pictures/originals/2015/Backgrounds_Lilac_hexagon_on_a_gray_background_098513_.png\" alt=\"\" />\r\n\t\t\t<h1 className = {s.text}>SOCIATY</h1>\r\n\t\t\t<div className={s.loginBlock}>\r\n\t\t\t\t{props.isAuth ? <div className={s.login}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{props.profile && <img src={props.profile.photos.small\r\n\t\t\t\t\t\t\t? props.profile.photos.small\r\n\t\t\t\t\t\t\t: userPhoto} alt=\"\"\r\n\t\t\t\t\t\t\t className={s.ProfileImage}/>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{props.login} - <button className={s.button} onClick={props.logout}>\r\n\t\t\t\t\tLog out\r\n\t\t\t\t</button></div> : <NavLink to={'/login'}>Login</NavLink>}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import {authAPI, securityAPI} from \"../api.js/api\";\r\n\r\nconst SET_USER_DATA = '/auth/SET_USER_DATA';\r\nconst GET_ERROR = '/auth/GET_ERROR';\r\nconst GET_CAPTCHA_URL_SUCCESS = '/auth/GET_CAPTCHA_URL_SUCCESS';\r\nconst GET_NOT_ERROR = 'GET_NOT_ERROR';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    message: '',\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n        case GET_ERROR:\r\n            return {\r\n                ...state,\r\n                message: action.message\r\n            };\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl\r\n            };\r\n        case GET_NOT_ERROR:\r\n            return {\r\n                ...state,\r\n                message: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: {userId, email, login, isAuth}\r\n})\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    captchaUrl\r\n})\r\nexport const getError = (message) => ({type: GET_ERROR, message})\r\nexport const getNotError = (message) => ({type: GET_NOT_ERROR, message})\r\n\r\nexport const getAuthUserDataThunk = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserDataThunk());\r\n        dispatch(getNotError(response.data.messages ? response.data.messages[0] : ''));\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        dispatch(getError(response.data.messages ? response.data.messages[0] : ''));\r\n    }\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\n\r\nexport default authReducer;","import Header from \"./Header\";\r\nimport React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\trender() {\r\n        return (\r\n            <Header {...this.props} profile={this.props.profile}/>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login,\r\n    profile: state.header.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import React from \"react\";\r\nimport s from './Login.module.css';\r\nimport {useForm} from 'react-hook-form';\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (data) => {\r\n        props.login(data.email, data.password, data.rememberMe, data.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.div}>\r\n            <h1 className={s.login}>Login</h1>\r\n            <LoginForm onSubmit={onSubmit} message={props.message} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    const {register, errors, handleSubmit} = useForm();\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(props.onSubmit)}>\r\n            <div className={s.input}>\r\n                <input ref={register({\r\n                    required: true\r\n                })} placeholder={'Email'} name={'email'}/>\r\n                {errors.email && <h1>\"Введите логин!\"</h1>}\r\n            </div>\r\n            <div className={s.input}>\r\n                <input ref={register({\r\n                    required: true\r\n                })} placeholder={'Password'} name={'password'} type={'password'}/>\r\n                {errors.password && <h1>\"Введите пароль!\"</h1>}\r\n            </div>\r\n            <div>{props.message ? <div className={s.error}>{props.message}</div> : ''}</div>\r\n            <div className={s.input}>\r\n                <input ref={register} type={'checkbox'} name={'rememberMe'}/>\r\n                <div className={s.rememberMe}>remember me</div>\r\n            </div>\r\n            <div>\r\n                {props.captchaUrl &&\r\n                <img src={props.captchaUrl} alt={''}/>}\r\n            </div>\r\n            <div>\r\n                {props.captchaUrl &&\r\n                <input ref={register({\r\n                    required: true\r\n                })} placeholder={'Captcha'} name={'captcha'}/>}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    message: state.auth.message,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserDataThunk} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\nconst SET_GLOBAL_ERROR = 'SET_GLOBAL_ERROR';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: true\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        case SET_GLOBAL_ERROR:\r\n            if (state.globalError) {\r\n                return {\r\n                    ...state,\r\n                    globalError: false\r\n                };\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    globalError: true\r\n                };\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setInitialized = () => ({type: SET_INITIALIZED});\r\nexport const setGlobalError = (globalError) => ({type: SET_GLOBAL_ERROR, globalError});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserDataThunk());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setInitialized());\r\n        });\r\n}\r\n\r\nexport default appReducer;","\r\nlet initialState =  {\r\n\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","import {profileAPI, userAPI} from \"../api.js/api\";\r\n\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\n\r\nlet initialState = {\r\n    profile: null\r\n}\r\n\r\nconst headerReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\n\r\nexport const getUserProfileThunk = (userId) => async (dispatch) => {\r\n    let response = await userAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport default headerReducer;","import profileReducer from './profile-reducer.js';\r\nimport dialogsReducer from './dialogs-reducer.js';\r\nimport sidebarReducer from './sidebar-reducer.js';\r\nimport usersReducer from './users-reducer.js';\r\nimport {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\nimport headerReducer from \"./headers-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    header: headerReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from \"react\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n}","export default __webpack_public_path__ + \"static/media/ошибка.b363cc10.png\";","import React from 'react';\r\nimport s from './GlobalError.module.css';\r\nimport error from '../../assets/images/ошибка.png';\r\n\r\nconst GlobalError = () => {\r\n    return (\r\n        <div className={s.container}>\r\n            <div className={s.display}>\r\n                <div>\r\n                    <img className={s.img} src={error} alt=\"\"/>\r\n                </div>\r\n                <div className={s.errorText}>\r\n                    Произошла какая-то ошибка!\r\n                    <hr className={s.hr}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GlobalError;","import React, {useState} from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar.js';\nimport {HashRouter, Redirect, Route, Switch} from 'react-router-dom';\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp, setGlobalError} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Loading/Loading\";\nimport store from \"./redux/redux-store\";\nimport {withSuspense} from \"./hoc/WithSuspense\";\nimport GlobalError from \"./components/GlobalError/GlobalError\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer.js'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer.js'));\n\n\nclass App extends React.Component {\n\n    catchAllUnhandledErrors = (reason, promise) => {\n        <Redirect to={'*'}/>\n    }\n\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                 <div className='app-wrapper-content'>\n                    <Switch>\n                        <Route exact path='/'\n                               render={() => <Redirect to={'/profile'}/>}/>\n                        <Route path='/profile/:userId?'\n                               render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs'\n                               render={withSuspense(DialogsContainer)}/>\n                        <Route path='/users'\n                               render={() => <UsersContainer/>}/>\n                        <Route path='/login'\n                               render={() => <Login/>}/>\n                        <Route path='*'\n                               render={() => <GlobalError/>}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = (state) => ( {\n    initialized: state.app.initialized,\n    globalError: state.app.globalError\n}\n\n)\n\nlet AppContainer = compose(\nconnect(mapStateToProps,\n{\n    initializeApp , setGlobalError\n}\n)(App)\n)\n\nconst AppComponent = (props) =>\n{\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n\nexport default AppComponent;\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport AppComponent from './App'\n\n\nReactDOM.render(\n    <AppComponent />,\n    document.getElementById('root')\n);\n\n\nreportWebVitals();\n"],"sourceRoot":""}