{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Login/Login.module.css","components/Header/Header.module.css","components/GlobalError/GlobalError.module.css","assets/images/user.png","assets/images/preloader.gif","components/common/Loading/Loading.js","redux/profile-reducer.js","redux/dialogs-reducer.js","components/Music/Music.module.css","components/News/News.module.css","components/Settings/Settings.module.css","api.js/api.js","components/Users/Users.module.css","reportWebVitals.js","components/Navbar/Navbar.js","components/Music/Music.js","components/News/News.js","components/Settings/Settings.js","utils/validators/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/user-selectors.js","components/Users/UsersContainer.js","components/Header/Header.js","redux/auth-reducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/app-reducer.js","redux/sidebar-reducer.js","redux/headers-reducer.js","redux/redux-store.js","hoc/WithSuspense.js","assets/images/ошибка.png","components/GlobalError/GlobalError.js","App.js","index.js"],"names":["module","exports","Preloader","props","src","preloader","alt","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","GET_ERROR_PROFILE_INFO","GET_NOT_ERROR","initialState","posts","id","message","countLike","profile","status","errors","addPostActionCreator","newPostText","type","setUserStatus","getErrorProfileInfo","error","getUserProfileThunk","userId","dispatch","a","userAPI","getProfile","response","data","getStatus","profileAPI","updateStatus","resultCode","savePhoto","file","photos","saveProfile","getState","auth","messages","Promise","reject","profileReducer","state","action","newPost","SEND_MESSAGE","dialogs","name","sendMessageCreator","newMessageBody","dialogsReducer","body","instance","axios","baseURL","withCredentials","headers","getUsers","currentPage","pageSize","get","then","follow","post","unfollow","delete","authAPI","me","login","email","password","rememberMe","captcha","logout","put","photoFile","formData","FormData","append","securityAPI","getCaptchaUrl","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","activeLink","Music","content","News","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","uniqueUrlName","small","large","followed","totalUsersCount","isFetching","followingInProgress","portionSize","followSuccess","userID","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","count","filter","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","num","paginator","button","onClick","p","cn","selectedPage","pageNumber","number","e","onPageChanged","User","contentUser","user","userPhoto","disabled","some","Users","contentUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getIsAuth","isAuth","getPortionSize","UsersContainer","setCurrentPage","requiestUsers","this","page","React","Component","compose","connect","bind","totalCount","Header","header","text","loginBlock","ProfileImage","SET_USER_DATA","GET_ERROR","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","getCaptchaUrlSuccess","getError","getAuthUserDataThunk","url","authReducer","HeaderContainer","LoginForm","useForm","register","handleSubmit","onSubmit","input","ref","required","placeholder","div","SET_INITIALIZED","SET_GLOBAL_ERROR","initialized","globalError","appReducer","sidebarReducer","headerReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","_","GlobalError","container","display","img","errorText","hr","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","reason","promise","initializeApp","addEventListener","removeEventListener","exact","path","render","AppContainer","all","setGlobalError","AppComponent","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.12213c37.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__pVIQH\",\"item\":\"Navbar_item__2uLAU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Login_div__j6B19\",\"login\":\"Login_login__xyAXz\",\"rememberMe\":\"Login_rememberMe__xlxSe\",\"error\":\"Login_error__3fI5f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__24Jo4\",\"text\":\"Header_text__32Bhx\",\"loginBlock\":\"Header_loginBlock__3WVlx\",\"login\":\"Header_login__3e5lR\",\"button\":\"Header_button__2KlsC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"GlobalError_container__3Fwnd\",\"exit\":\"GlobalError_exit__1zybV\",\"display\":\"GlobalError_display__2-qPy\",\"img\":\"GlobalError_img__c76w-\",\"errorText\":\"GlobalError_errorText__35Bbe\",\"hr\":\"GlobalError_hr__1c-fn\"};","export default __webpack_public_path__ + \"static/media/user.ee9a9e57.png\";","export default __webpack_public_path__ + \"static/media/preloader.aec42a44.gif\";","import preloader from \"../../../assets/images/preloader.gif\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} alt={''}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader;","import {profileAPI, userAPI} from \"../api.js/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\nconst GET_ERROR_PROFILE_INFO = 'GET_ERROR_PROFILE_INFO';\r\nconst GET_NOT_ERROR = 'GET_NOT_ERROR';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Я - гуль', countLike: 200},\r\n        {id: 2, message: 'Hi, how are you?', countLike: 15},\r\n        {id: 3, message: 'It\\'s my first post', countLike: 20}\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n    errors: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                countLike: 1\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.photos\r\n                }\r\n            };\r\n        case GET_ERROR_PROFILE_INFO:\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            };\r\n        case GET_NOT_ERROR:\r\n            return {\r\n                ...state,\r\n                error: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setUserStatus = (status) => ({type: SET_STATUS, status})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\nexport const getErrorProfileInfo = (error) => ({type: GET_ERROR_PROFILE_INFO, error})\r\nexport const getNotError = (error) => ({type: GET_NOT_ERROR, error})\r\n\r\n\r\nexport const getUserProfileThunk = (userId) => async (dispatch) => {\r\n    let response = await userAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status));\r\n    }\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfileThunk(userId));\r\n        dispatch(getNotError(response.data.messages ? response.data.messages[0] : ''));\r\n    } else {\r\n        dispatch(getErrorProfileInfo(response.data.messages ? response.data.messages[0] : ''));\r\n        return Promise.reject();\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dima'},\r\n        {id: 2, name: 'Sergey'},\r\n        {id: 3, name: 'Nikita'},\r\n        {id: 4, name: 'Andrey'},\r\n        {id: 5, name: 'Pasha'},\r\n        {id: 6, name: 'Daniil'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'Hello'},\r\n        {id: 3, message: 'Hey'},\r\n        {id: 4, message: 'Hey'},\r\n        {id: 5, message: 'Hey'}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n\t\t\tlet body = action.newMessageBody;\r\n\t\t\treturn {\r\n                ...state,\r\n\t\t\t\tmessages: [...state.messages, {id: 7, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Music_content__2zA-j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"News_content__3szBa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Settings_content__SaRNE\"};","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '90e4be0e-a363-4e2c-a8cd-2b1ea5bafde5'\r\n    }\r\n})\r\n\r\nexport const userAPI = {\r\n     getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status})\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentUsers\":\"Users_contentUsers__YBTbs\",\"contentUser\":\"Users_contentUser__3OxDZ\",\"userPhoto\":\"Users_userPhoto__IL7cy\",\"user\":\"Users_user__3wVf5\",\"selectedPage\":\"Users_selectedPage__3NS7W\",\"number\":\"Users_number__3EAxQ\",\"button\":\"Users_button__1_IDG\",\"paginator\":\"Users_paginator__1xvIQ\",\"pageNumber\":\"Users_pageNumber__30oYF\",\"page\":\"Users_page__11puF\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import s from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nlet Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            {/*<div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>*/}\r\n            {/*<div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>*/}\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            {/*<div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>*/}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import s from './Music.module.css';\r\n\r\nlet Music = (props) => {\r\n      return (\r\n            <div className = {s.content}>\r\n\t\t\t\t\tMusic\r\n            </div>\r\n      );\r\n}\r\n\r\nexport default Music;","import s from './News.module.css';\r\n\r\nlet News = (props) => {\r\n      return (\r\n            <div className = {s.content}>\r\n\t\t\t\t\tNews\r\n            </div>\r\n      );\r\n}\r\n\r\nexport default News;","import s from './Settings.module.css';\r\n\r\nlet Settings = (props) => {\r\n\r\n    return (\r\n        <div className={s.content}>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {userAPI} from \"../api.js/api\";\r\nimport {updateObjectInArray} from \"../utils/validators/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\n/*var initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}*/\r\n\r\nvar initialState = {\r\n\r\n    users: [\r\n        {\r\n            name: 'Bah_Novak',\r\n            id: 15687,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: true\r\n        },\r\n        {\r\n            name: 'Egor423',\r\n            id: 15686,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: true\r\n        },\r\n        {\r\n            name: 'NikTest9911',\r\n            id: 15685,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: true\r\n        },\r\n        {\r\n            name: 'NikTest99',\r\n            id: 15684,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: true\r\n        },\r\n        {\r\n            name: 'NikTest',\r\n            id: 15683,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: true\r\n        }\r\n    ],\r\n    pageSize: 12,\r\n    totalUsersCount: 10695,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 18\r\n}\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = (userID) => ({type: FOLLOW, userID})\r\nexport const unfollowSuccess = (userID) => ({type: UNFOLLOW, userID})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\nexport const requiestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await userAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import s from \"../../Users/Users.module.css\";\r\nimport cn from 'classnames';\r\nimport {useState} from \"react\";\r\n\r\nconst Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n    let back = '<=';\r\n    let next = '=>';\r\n\r\n    return (\r\n        <div className={s.num}>\r\n            <div className={s.paginator}>\r\n                {portionNumber > 1 &&\r\n                <button className={s.button} onClick={ () => { setPortionNumber(portionNumber -1) }}>{back}</button>}\r\n            {pages\r\n                .filter( p => p >= leftPortionPageNumber && p <= rightPortionPageNumber )\r\n                .map((p) => {\r\n                return <span className={cn({[s.selectedPage]: props.currentPage === p}, s.pageNumber) || s.number}\r\n                             key = {p}\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(p)\r\n                             }}>{p}</span>\r\n            })}\r\n                {portionCount > portionNumber && <button className={s.button} onClick={() => {setPortionNumber(portionNumber + 1)}}>{next}</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;\r\n","import s from \"./Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\n\r\nlet User = (props) => {\r\n\r\n    return (\r\n        <div className={s.contentUser}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + props.user.id}>\r\n                                <img\r\n                                    src={props.user.photos.small != null ? props.user.photos.small : userPhoto}\r\n                                    className={s.userPhoto}\r\n                                    alt=''/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {props.user.followed\r\n                                ? <button className={s.button}\r\n                                          disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                                          onClick={() => {\r\n                                              props.unfollow(props.user.id);\r\n                                          }}>Unfollow</button>\r\n                                : <button className={s.button}\r\n                                          disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                                          onClick={() => {\r\n                                              props.follow(props.user.id);\r\n                                          }}>Follow</button>}\r\n                                </div>\r\n                    </span>\r\n                        <span>\r\n                            <span>\r\n                                <div>{props.user.name}</div>\r\n                                <div>{props.user.status}</div>\r\n                            </span>\r\n                            <span>\r\n                                <div>{'u.location.county'}</div>\r\n                                <div>{'u.location.city'}</div>\r\n                            </span>\r\n                        </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import s from \"./Users.module.css\";\r\nimport React from 'react';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n    return (\r\n        <div className={s.contentUsers}>\r\n            <Paginator currentPage={props.currentPage} totalItemsCount={props.totalUsersCount} pageSize={props.pageSize}\r\n                       onPageChanged={props.onPageChanged} portionSize={props.portionSize}/>\r\n            {\r\n                props.users.map(u => <User user={u} key={u.id} followingInProgress={props.followingInProgress}\r\n                                           unfollow={props.unfollow} follow={props.follow}/>\r\n                )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, users =>\r\n    users.filter(u => true)\r\n)\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\nexport const getIsAuth = (state) => {\r\n    return state.usersPage.isAuth;\r\n}\r\nexport const getPortionSize= (state) => {\r\n    return state.usersPage.portionSize;\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {\r\n    follow,\r\n    requiestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from '../../redux/users-reducer';\r\nimport {connect} from 'react-redux';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Loading/Loading\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress, getIsAuth,\r\n    getIsFetching,\r\n    getPageSize, getPortionSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/user-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {page, pageSize} = this.props;\r\n        this.props.requiestUsers(page, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.requiestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ?\r\n                <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.page}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   portionSize={this.props.portionSize}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        page: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, requiestUsers})(UsersContainer)\r\n)","import s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\n\r\n\r\nlet Header = (props) => {\r\n\r\n\treturn(\r\n\t\t<header className = {s.header}>\r\n\t\t\t<img src=\"https://www.zastavki.com/pictures/originals/2015/Backgrounds_Lilac_hexagon_on_a_gray_background_098513_.png\" alt=\"\" />\r\n\t\t\t<h1 className = {s.text}>SOCIATY</h1>\r\n\t\t\t<div className={s.loginBlock}>\r\n\t\t\t\t{props.isAuth ? <div className={s.login}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{props.profile && <img src={props.profile.photos.small\r\n\t\t\t\t\t\t\t? props.profile.photos.small\r\n\t\t\t\t\t\t\t: userPhoto} alt=\"\"\r\n\t\t\t\t\t\t\t className={s.ProfileImage}/>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{props.login} - <button className={s.button} onClick={props.logout}>\r\n\t\t\t\t\tLog out\r\n\t\t\t\t</button></div> : <NavLink to={'/login'}>Login</NavLink>}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import {authAPI, securityAPI} from \"../api.js/api\";\r\n\r\nconst SET_USER_DATA = '/auth/SET_USER_DATA';\r\nconst GET_ERROR = '/auth/GET_ERROR';\r\nconst GET_CAPTCHA_URL_SUCCESS = '/auth/GET_CAPTCHA_URL_SUCCESS';\r\nconst GET_NOT_ERROR = 'GET_NOT_ERROR';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    message: '',\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n        case GET_ERROR:\r\n            return {\r\n                ...state,\r\n                message: action.message\r\n            };\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl\r\n            };\r\n        case GET_NOT_ERROR:\r\n            return {\r\n                ...state,\r\n                message: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: {userId, email, login, isAuth}\r\n})\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    captchaUrl\r\n})\r\nexport const getError = (message) => ({type: GET_ERROR, message})\r\nexport const getNotError = (message) => ({type: GET_NOT_ERROR, message})\r\n\r\nexport const getAuthUserDataThunk = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserDataThunk());\r\n        dispatch(getNotError(response.data.messages ? response.data.messages[0] : ''));\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        dispatch(getError(response.data.messages ? response.data.messages[0] : ''));\r\n    }\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\n\r\nexport default authReducer;","import Header from \"./Header\";\r\nimport React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\trender() {\r\n        return (\r\n            <Header {...this.props} profile={this.props.profile}/>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login,\r\n    profile: state.header.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import React from \"react\";\r\nimport s from './Login.module.css';\r\nimport {useForm} from 'react-hook-form';\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (data) => {\r\n        props.login(data.email, data.password, data.rememberMe, data.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.div}>\r\n            <h1 className={s.login}>Login</h1>\r\n            <LoginForm onSubmit={onSubmit} message={props.message} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    const {register, errors, handleSubmit} = useForm();\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(props.onSubmit)}>\r\n            <div className={s.input}>\r\n                <input ref={register({\r\n                    required: true\r\n                })} placeholder={'Email'} name={'email'}/>\r\n                {errors.email && <h1>\"Введите логин!\"</h1>}\r\n            </div>\r\n            <div className={s.input}>\r\n                <input ref={register({\r\n                    required: true\r\n                })} placeholder={'Password'} name={'password'} type={'password'}/>\r\n                {errors.password && <h1>\"Введите пароль!\"</h1>}\r\n            </div>\r\n            <div>{props.message ? <div className={s.error}>{props.message}</div> : ''}</div>\r\n            <div className={s.input}>\r\n                <input ref={register} type={'checkbox'} name={'rememberMe'}/>\r\n                <div className={s.rememberMe}>remember me</div>\r\n            </div>\r\n            <div>\r\n                {props.captchaUrl &&\r\n                <img src={props.captchaUrl} alt={''}/>}\r\n            </div>\r\n            <div>\r\n                {props.captchaUrl &&\r\n                <input ref={register({\r\n                    required: true\r\n                })} placeholder={'Captcha'} name={'captcha'}/>}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    message: state.auth.message,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserDataThunk} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\nconst SET_GLOBAL_ERROR = 'SET_GLOBAL_ERROR';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: true\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        case SET_GLOBAL_ERROR:\r\n            if (state.globalError) {\r\n                return {\r\n                    ...state,\r\n                    globalError: false\r\n                };\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    globalError: true\r\n                };\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setInitialized = () => ({type: SET_INITIALIZED});\r\nexport const setGlobalError = (globalError) => ({type: SET_GLOBAL_ERROR, globalError});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserDataThunk());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setInitialized());\r\n        });\r\n}\r\n\r\nexport default appReducer;","\r\nlet initialState =  {\r\n\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","import {profileAPI, userAPI} from \"../api.js/api\";\r\n\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\n\r\nlet initialState = {\r\n    profile: null\r\n}\r\n\r\nconst headerReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\n\r\nexport const getUserProfileThunk = (userId) => async (dispatch) => {\r\n    let response = await userAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport default headerReducer;","import profileReducer from './profile-reducer.js';\r\nimport dialogsReducer from './dialogs-reducer.js';\r\nimport sidebarReducer from './sidebar-reducer.js';\r\nimport usersReducer from './users-reducer.js';\r\nimport {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\nimport headerReducer from \"./headers-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    header: headerReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from \"react\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n}","export default __webpack_public_path__ + \"static/media/ошибка.b363cc10.png\";","import React from 'react';\r\nimport s from './GlobalError.module.css';\r\nimport error from '../../assets/images/ошибка.png';\r\n\r\nconst GlobalError = () => {\r\n    return (\r\n        <div className={s.container}>\r\n            <div className={s.display}>\r\n                <div>\r\n                    <img className={s.img} src={error} alt=\"\"/>\r\n                </div>\r\n                <div className={s.errorText}>\r\n                    Произошла какая-то ошибка!\r\n                    <hr className={s.hr}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GlobalError;","import React, {useState} from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar.js';\nimport {HashRouter, Redirect, Route, Switch} from 'react-router-dom';\nimport Music from './components/Music/Music.js';\nimport News from './components/News/News.js';\nimport Settings from './components/Settings/Settings.js';\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp, setGlobalError} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Loading/Loading\";\nimport store from \"./redux/redux-store\";\nimport {withSuspense} from \"./hoc/WithSuspense\";\nimport GlobalError from \"./components/GlobalError/GlobalError\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer.js'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer.js'));\n\n\nclass App extends React.Component {\n\n    catchAllUnhandledErrors = (reason, promise) => {\n        <Redirect to={'*'}/>\n    }\n\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        debugger\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                 <div className='app-wrapper-content'>\n                    <Switch>\n                        <Route exact path='/'\n                               render={() => <Redirect to={'/profile'}/>}/>\n                        <Route path='/profile/:userId?'\n                               render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs'\n                               render={withSuspense(DialogsContainer)}/>\n                        <Route path='/news'\n                               render={() => <News/>}/>\n                        <Route path='/music'\n                               render={() => <Music/>}/>\n                        <Route path='/settings'\n                               render={() => <Settings/>}/>\n                        <Route path='/users'\n                               render={() => <UsersContainer/>}/>\n                        <Route path='/login'\n                               render={() => <Login/>}/>\n                        <Route path='*'\n                               render={() => <GlobalError/>}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = (state) => ( {\n    initialized: state.app.initialized\n,\n    globalError: state.app.globalError\n}\n\n)\n\nlet AppContainer = compose(\nconnect(mapStateToProps,\n{\n    initializeApp , setGlobalError\n}\n)(App)\n)\n\nconst AppComponent = (props) =>\n{\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n\nexport default AppComponent;\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport AppComponent from './App'\n\n\nReactDOM.render(\n    <AppComponent />,\n    document.getElementById('root')\n);\n\n\nreportWebVitals();\n"],"sourceRoot":""}