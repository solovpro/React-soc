{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Login/Login.module.css","components/Header/Header.module.css","assets/images/preloader.gif","components/common/Loading/Loading.js","redux/profile-reducer.js","assets/images/user.png","redux/dialogs-reducer.js","components/Music/Music.module.css","components/News/News.module.css","components/Settings/Settings.module.css","api.js/api.js","components/Users/Users.module.css","reportWebVitals.js","components/Navbar/Navbar.js","components/Music/Music.js","components/News/News.js","components/Settings/Settings.js","utils/validators/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/user-selectors.js","components/Users/UsersContainer.js","components/Header/Header.js","redux/auth-reducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/WithSuspense.js","App.js","index.js"],"names":["module","exports","Preloader","props","src","preloader","alt","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","GET_ERROR","initialState","posts","id","message","countLike","profile","status","addPostActionCreator","newPostText","type","setUserStatus","getUserProfileThunk","userId","dispatch","a","userAPI","getProfile","response","data","getStatus","profileAPI","updateStatus","resultCode","savePhoto","file","photos","saveProfile","getState","auth","messages","profileReducer","state","action","newPost","SEND_MESSAGE","dialogs","name","sendMessageCreator","newMessageBody","dialogsReducer","body","instance","axios","baseURL","withCredentials","headers","getUsers","currentPage","pageSize","get","then","follow","post","unfollow","authAPI","me","login","email","password","rememberMe","captcha","logout","delete","put","photoFile","formData","FormData","append","securityAPI","getCaptchaUrl","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","activeLink","Music","content","News","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","uniqueUrlName","small","large","followed","totalUsersCount","isFetching","followingInProgress","portionSize","followSuccess","userID","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","count","filter","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","num","paginator","button","onClick","p","cn","selectedPage","pageNumber","number","e","onPageChanged","User","user","userPhoto","disabled","some","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getIsAuth","isAuth","getPortionSize","UsersContainer","setCurrentPage","requiestUsers","this","page","React","Component","compose","connect","bind","totalCount","Header","header","text","loginBlock","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","getCaptchaUrlSuccess","getAuthUserDataThunk","url","authReducer","HeaderContainer","LoginForm","useForm","register","errors","handleSubmit","onSubmit","input","ref","required","placeholder","error","div","SET_INITIALIZED","initialized","globalError","appReducer","sidebarReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","addEventListener","catchAllUnhandledErrors","removeEventListener","exact","path","render","AppContainer","promise","Promise","all","AppComponent","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.45aeb2b2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__pVIQH\",\"item\":\"Navbar_item__2uLAU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Login_div__j6B19\",\"login\":\"Login_login__xyAXz\",\"rememberMe\":\"Login_rememberMe__xlxSe\",\"error\":\"Login_error__3fI5f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__24Jo4\",\"text\":\"Header_text__32Bhx\",\"loginBlock\":\"Header_loginBlock__3WVlx\",\"login\":\"Header_login__3e5lR\",\"button\":\"Header_button__2KlsC\"};","export default __webpack_public_path__ + \"static/media/preloader.aec42a44.gif\";","import preloader from \"../../../assets/images/preloader.gif\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} alt={''}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader;","import {profileAPI, userAPI} from \"../api.js/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\nconst GET_ERROR = 'GET_ERROR';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Я - гуль', countLike: 200},\r\n        {id: 2, message: 'Hi, how are you?', countLike: 15},\r\n        {id: 3, message: 'It\\'s my first post', countLike: 20}\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n    message: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                countLike: 1\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.photos\r\n                }\r\n            };\r\n        case GET_ERROR:\r\n            return {\r\n                ...state,\r\n                message: action.message\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setUserStatus = (status) => ({type: SET_STATUS, status})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\nexport const getError = (message) => ({type: GET_ERROR, message})\r\n\r\nexport const getUserProfileThunk = (userId) => async (dispatch) => {\r\n    let response = await userAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setUserStatus(status));\r\n        }\r\n    } catch(error) {\r\n        //\r\n    }\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfileThunk(userId));\r\n    } else {\r\n        dispatch(getError(response.data.messages ? response.data.messages[0] : ''));\r\n        /*return Promise.reject().then();*/\r\n    }\r\n}\r\n\r\nexport default profileReducer;","export default __webpack_public_path__ + \"static/media/user.ee9a9e57.png\";","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dima'},\r\n        {id: 2, name: 'Sergey'},\r\n        {id: 3, name: 'Nikita'},\r\n        {id: 4, name: 'Andrey'},\r\n        {id: 5, name: 'Pasha'},\r\n        {id: 6, name: 'Daniil'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'Hello'},\r\n        {id: 3, message: 'Hey'},\r\n        {id: 4, message: 'Hey'},\r\n        {id: 5, message: 'Hey'}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n\t\t\tlet body = action.newMessageBody;\r\n\t\t\treturn {\r\n                ...state,\r\n\t\t\t\tmessages: [...state.messages, {id: 7, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Music_content__2zA-j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"News_content__3szBa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Settings_content__SaRNE\"};","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '90e4be0e-a363-4e2c-a8cd-2b1ea5bafde5'\r\n    }\r\n})\r\n\r\nexport const userAPI = {\r\n     getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.post(`unfollow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status})\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Users_content__1w1Bm\",\"userPhoto\":\"Users_userPhoto__IL7cy\",\"user\":\"Users_user__3wVf5\",\"selectedPage\":\"Users_selectedPage__3NS7W\",\"number\":\"Users_number__3EAxQ\",\"button\":\"Users_button__1_IDG\",\"paginator\":\"Users_paginator__1xvIQ\",\"pageNumber\":\"Users_pageNumber__30oYF\",\"page\":\"Users_page__11puF\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import s from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nlet Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            {/*<div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>*/}\r\n            {/*<div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>*/}\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            {/*<div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>*/}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import s from './Music.module.css';\r\n\r\nlet Music = (props) => {\r\n      return (\r\n            <div className = {s.content}>\r\n\t\t\t\t\tMusic\r\n            </div>\r\n      );\r\n}\r\n\r\nexport default Music;","import s from './News.module.css';\r\n\r\nlet News = (props) => {\r\n      return (\r\n            <div className = {s.content}>\r\n\t\t\t\t\tNews\r\n            </div>\r\n      );\r\n}\r\n\r\nexport default News;","import s from './Settings.module.css';\r\n\r\nlet Settings = (props) => {\r\n\r\n    return (\r\n        <div className={s.content}>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {userAPI} from \"../api.js/api\";\r\nimport {updateObjectInArray} from \"../utils/validators/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\n/*var initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}*/\r\nvar initialState = {\r\n\r\n    users: [\r\n        {\r\n            name: 'Bah_Novak',\r\n            id: 15687,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: true\r\n        },\r\n        {\r\n            name: 'Egor423',\r\n            id: 15686,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: true\r\n        },\r\n        {\r\n            name: 'NikTest9911',\r\n            id: 15685,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: true\r\n        },\r\n        {\r\n            name: 'NikTest99',\r\n            id: 15684,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: true\r\n        },\r\n        {\r\n            name: 'NikTest',\r\n            id: 15683,\r\n            uniqueUrlName: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: true\r\n        }\r\n    ],\r\n    pageSize: 5,\r\n    totalUsersCount: 10695,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 15\r\n}\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = (userID) => ({type: FOLLOW, userID})\r\nexport const unfollowSuccess = (userID) => ({type: UNFOLLOW, userID})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\nexport const requiestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await userAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import s from \"../../Users/Users.module.css\";\r\nimport cn from 'classnames';\r\nimport {useState} from \"react\";\r\n\r\nconst Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n    let back = '<=';\r\n    let next = '=>';\r\n\r\n    return (\r\n        <div className={s.num}>\r\n            <div className={s.paginator}>\r\n                {portionNumber > 1 &&\r\n                <button className={s.button} onClick={ () => { setPortionNumber(portionNumber -1) }}>{back}</button>}\r\n            {pages\r\n                .filter( p => p >= leftPortionPageNumber && p <= rightPortionPageNumber )\r\n                .map((p) => {\r\n                return <span className={cn({[s.selectedPage]: props.currentPage === p}, s.pageNumber) || s.number}\r\n                             key = {p}\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(p)\r\n                             }}>{p}</span>\r\n            })}\r\n                {portionCount > portionNumber && <button className={s.button} onClick={() => {setPortionNumber(portionNumber + 1)}}>{next}</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;\r\n","import s from \"./Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\n\r\nlet User = (props) => {\r\n\r\n    return (\r\n        <div className={s.content}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + props.user.id}>\r\n                                <img\r\n                                    src={props.user.photos.small != null ? props.user.photos.small : userPhoto}\r\n                                    className={s.userPhoto}\r\n                                    alt=''/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {props.user.followed\r\n                                ? <button className={s.button}\r\n                                          disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                                          onClick={() => {\r\n                                              props.unfollow(props.user.id);\r\n                                          }}>Unfollow</button>\r\n                                : <button className={s.button}\r\n                                          disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                                          onClick={() => {\r\n                                              props.follow(props.user.id);\r\n                                          }}>Follow</button>}\r\n                                </div>\r\n                                </span>\r\n            <span>\r\n                            <span>\r\n                                <div>{props.user.name}</div>\r\n                                <div>{props.user.status}</div>\r\n                            </span>\r\n                            <span>\r\n                                <div>{'u.location.county'}</div>\r\n                                <div>{'u.location.city'}</div>\r\n                            </span>\r\n                        </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import s from \"./Users.module.css\";\r\nimport React from 'react';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n    return (\r\n        <div className={s.content}>\r\n            <Paginator currentPage={props.currentPage} totalItemsCount={props.totalUsersCount} pageSize={props.pageSize}\r\n                       onPageChanged={props.onPageChanged} portionSize={props.portionSize}/>\r\n            {\r\n                props.users.map(u => <User user={u} key={u.id} followingInProgress={props.followingInProgress}\r\n                                           unfollow={props.unfollow} follow={props.follow}/>\r\n                )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, users =>\r\n    users.filter(u => true)\r\n)\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\nexport const getIsAuth = (state) => {\r\n    return state.usersPage.isAuth;\r\n}\r\nexport const getPortionSize= (state) => {\r\n    return state.usersPage.portionSize;\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {\r\n    follow,\r\n    requiestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from '../../redux/users-reducer';\r\nimport {connect} from 'react-redux';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Loading/Loading\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress, getIsAuth,\r\n    getIsFetching,\r\n    getPageSize, getPortionSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/user-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {page, pageSize} = this.props;\r\n        this.props.requiestUsers(page, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.requiestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ?\r\n                <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.page}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   portionSize={this.props.portionSize}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        page: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, requiestUsers})(UsersContainer)\r\n)","import s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nlet Header = (props) => {\r\n\treturn(\r\n\t\t<header className = {s.header}>\r\n\t\t\t<img src=\"https://www.zastavki.com/pictures/originals/2015/Backgrounds_Lilac_hexagon_on_a_gray_background_098513_.png\" alt=\"\" />\r\n\t\t\t<h1 className = {s.text}>SOCIATY</h1>\r\n\t\t\t<div className={s.loginBlock}>\r\n\t\t\t\t{props.isAuth ? <div className={s.login}>{props.login} - <button className={s.button} onClick={props.logout}>\r\n\t\t\t\t\tLog out\r\n\t\t\t\t</button></div> : <NavLink to={'/login'}>Login</NavLink>}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import {authAPI, securityAPI} from \"../api.js/api\";\r\n\r\nconst SET_USER_DATA = '/auth/SET_USER_DATA';\r\nconst GET_ERROR = '/auth/GET_ERROR';\r\nconst GET_CAPTCHA_URL_SUCCESS = '/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    message: '',\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n        case GET_ERROR:\r\n            return {\r\n                ...state,\r\n                message: action.message\r\n            };\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: {userId, email, login, isAuth}\r\n})\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    captchaUrl\r\n})\r\nexport const getError = (message) => ({type: GET_ERROR, message})\r\n\r\nexport const getAuthUserDataThunk = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserDataThunk())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        dispatch(getError(response.data.messages ? response.data.messages[0] : ''));\r\n    }\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\n\r\nexport default authReducer;","import Header from \"./Header\";\r\nimport React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\trender() {\r\n        return (\r\n            <Header {...this.props} />\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import React from \"react\";\r\nimport s from './Login.module.css';\r\nimport {useForm} from 'react-hook-form';\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (data) => {\r\n        props.login(data.email, data.password, data.rememberMe, data.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.div}>\r\n            <h1 className={s.login}>Login</h1>\r\n            <LoginForm onSubmit={onSubmit} message={props.message} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    const {register, errors, handleSubmit} = useForm();\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(props.onSubmit)}>\r\n            <div className={s.input}>\r\n                <input ref={register({\r\n                    required: true\r\n                })} placeholder={'Email'} name={'email'}/>\r\n                {errors.email && <h1>\"Введите логин!\"</h1>}\r\n            </div>\r\n            <div className={s.input}>\r\n                <input ref={register({\r\n                    required: true\r\n                })} placeholder={'Password'} name={'password'} type={'password'}/>\r\n                {errors.password && <h1>\"Введите пароль!\"</h1>}\r\n            </div>\r\n            <div className={s.error}>{props.message ? <div>{props.message}</div> : ''}</div>\r\n            <div className={s.input}>\r\n                <input ref={register} type={'checkbox'} name={'rememberMe'}/>\r\n                <div className={s.rememberMe}>remember me</div>\r\n            </div>\r\n            <div>\r\n                {props.captchaUrl &&\r\n                <img src={props.captchaUrl} alt={''}/>}\r\n            </div>\r\n            <div>\r\n                {props.captchaUrl &&\r\n                <input ref={register({\r\n                    required: true\r\n                })} placeholder={'Captcha'} name={'captcha'}/>}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    message: state.auth.message,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserDataThunk} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setInitialized = () => ({type: SET_INITIALIZED});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserDataThunk());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setInitialized());\r\n        });\r\n}\r\n\r\nexport default appReducer;","\r\nlet initialState =  {\r\n\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","import profileReducer from './profile-reducer.js';\r\nimport dialogsReducer from './dialogs-reducer.js';\r\nimport sidebarReducer from './sidebar-reducer.js';\r\nimport usersReducer from './users-reducer.js';\r\nimport {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from \"react\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n}","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar.js';\nimport {HashRouter, Redirect, Route, Switch} from 'react-router-dom';\nimport Music from './components/Music/Music.js';\nimport News from './components/News/News.js';\nimport Settings from './components/Settings/Settings.js';\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Loading/Loading\";\nimport store from \"./redux/redux-store\";\nimport {withSuspense} from \"./hoc/WithSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer.js'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer.js'));\n\n\nclass App extends React.Component {\n    /*catchAllUnhandledErrors = (reason, promise) => {\n        alert('123');\n    }*/\n\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Switch>\n                    <Route exact path='/'\n                           render={() => <Redirect to={'/profile'}/>} />\n                    <Route path='/profile/:userId?'\n                           render={withSuspense(ProfileContainer)}/>\n                    <Route path='/dialogs'\n                           render={withSuspense(DialogsContainer)}/>\n                    <Route path='/news'\n                           render={() => <News/>}/>\n                    <Route path='/music'\n                           render={() => <Music/>}/>\n                    <Route path='/settings'\n                           render={() => <Settings/>}/>\n                    <Route path='/users'\n                           render={() => <UsersContainer/>}/>\n                    <Route path='/login'\n                           render={() => <Login/>}/>\n                    <Route path='*'\n                           render={() => <div>404 Ошибка</div>}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = compose(\n    connect(mapStateToProps, {initializeApp})(App)\n)\n\nconst AppComponent = (props) => {\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n\nexport default AppComponent;\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport AppComponent from './App'\n\n\nReactDOM.render(\n    <AppComponent />,\n    document.getElementById('root')\n);\n\n\nreportWebVitals();\n"],"sourceRoot":""}