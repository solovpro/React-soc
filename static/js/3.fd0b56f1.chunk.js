(this["webpackJsonpreact-2"]=this["webpackJsonpreact-2"]||[]).push([[3],{100:function(e,t,s){e.exports={item:"Post_item__R2tnv"}},102:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(22),o=s(23),i=s(25),r=s(24),n=s(98),l=s.n(n),u=s(39),j=s(99),f=s.n(j),d=s(100),b=s.n(d),p=function(e){return Object(a.jsxs)("div",{className:b.a.item,children:[Object(a.jsx)("img",{src:"https://www.zastavki.com/pictures/2560x1600/2018Backgrounds_Purple_background_with_spiral_pattern_127254_19.jpg",alt:""}),e.message,Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:["like: ",e.countLike]})})]})},h=s(0),m=s.n(h),O=s(38),x=m.a.memo((function(e){var t=e.posts.map((function(e){return Object(a.jsx)("div",{className:f.a.post,children:Object(a.jsx)(p,{message:e.message,countLike:e.countLike})})}));return Object(a.jsxs)("div",{className:f.a.postsBlock,children:[Object(a.jsx)("div",{className:f.a.public,children:Object(a.jsx)(_,{onSubmit:function(t){e.addPost(t.newPostText)}})}),Object(a.jsx)("div",{children:t})]})})),_=function(e){var t=Object(O.a)(),s=t.register,c=t.errors,o=t.handleSubmit;return Object(a.jsxs)("form",{onSubmit:o(e.onSubmit),children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("textarea",{name:"newPostText",ref:s({required:!0}),placeholder:"\u0427\u0442\u043e \u0443 \u0432\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?"}),c.newPostText&&Object(a.jsx)("h1",{children:'"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435!"'})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:f.a.button,children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})})]})},v=x,P=s(18),g=Object(P.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(Object(u.a)(t))}}}))(v),N=s(3),I=s.n(N),k=s(5),S=s(19),w=s(97),y=s.n(w),T=s(32),B=s(49),A=function(e){var t=Object(h.useState)(!1),s=Object(S.a)(t,2),c=s[0],o=s[1],i=Object(h.useState)(e.status),r=Object(S.a)(i,2),n=r[0],l=r[1];Object(h.useEffect)((function(){l(e.status)}),[e.status]);return Object(a.jsxs)("div",{children:[!c&&Object(a.jsx)("div",{children:Object(a.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status||"-"})}),c&&Object(a.jsx)("div",{children:Object(a.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){o(!1),e.updateStatus(n)},value:n})})]})},M=function(e){var t=Object(O.a)({defaultValues:e.profile}),s=t.register,c=t.handleSubmit;return Object(a.jsxs)("form",{className:y.a.profileInfoAction,onSubmit:c(e.onSubmit),children:[Object(a.jsx)("button",{className:y.a.button,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(a.jsx)("div",{className:y.a.error,children:e.message?Object(a.jsx)("div",{children:e.message}):""}),Object(a.jsx)("div",{className:y.a.redaction,children:"\u0420\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(a.jsxs)("div",{className:y.a.margin,children:[Object(a.jsxs)("div",{className:y.a.name&&y.a.info,children:[Object(a.jsx)("b",{children:"\u041d\u0438\u043a:"})," ",Object(a.jsx)("input",{className:y.a.input,ref:s({required:!0}),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043d\u0438\u043a",name:"fullName"}),Object(a.jsx)("hr",{className:y.a.hr})]}),Object(a.jsxs)("div",{className:y.a.info,children:["\u041f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u044b: ",Object(a.jsx)("input",{className:y.a.input,ref:s({required:!1}),placeholder:"",name:"lookingForAJob",type:"checkbox"}),Object(a.jsx)("hr",{className:y.a.hr})]}),Object(a.jsxs)("div",{className:y.a.info,children:[Object(a.jsx)("b",{className:y.a.b,children:"\u041d\u0430\u0432\u044b\u043a\u0438 \u0440\u0430\u0431\u043e\u0442\u044b:"})," ",Object(a.jsx)("textarea",{className:y.a.input&&y.a.textarea,ref:s({required:!0}),placeholder:"",name:"lookingForAJobDescription"}),Object(a.jsx)("hr",{className:y.a.hr})]}),Object(a.jsxs)("div",{className:y.a.aboutMe&&y.a.info,children:[Object(a.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",Object(a.jsx)("textarea",{className:y.a.input&&y.a.textarea,ref:s({required:!0}),placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e \u0441\u0435\u0431\u0435",name:"aboutMe"}),Object(a.jsx)("hr",{className:y.a.hr})]}),Object(a.jsxs)("div",{className:y.a.contacts,children:[Object(a.jsx)("div",{className:y.a.contactsText,children:Object(a.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"})}),Object(a.jsx)("div",{className:y.a.contactBlock,children:Object.keys(e.profile.contacts).map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("b",{children:[e,":"]}),Object(a.jsx)("input",{className:y.a.input,ref:s({required:!1}),placeholder:e,name:"contacts."+e})]})}))})]})]})]})},q=function(e){return Object(a.jsxs)("div",{className:y.a.profileInfo,children:[e.isOwner&&Object(a.jsx)("div",{onClick:e.goToEditMode,children:Object(a.jsx)("button",{className:y.a.button,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(a.jsx)("div",{className:y.a.discript,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f:"}),Object(a.jsxs)("div",{className:y.a.margin,children:[Object(a.jsxs)("div",{className:y.a.name&&y.a.info,children:[Object(a.jsx)("b",{children:"\u041d\u0438\u043a:"})," ",e.profile.fullName,Object(a.jsx)("hr",{className:y.a.hr})]}),Object(a.jsxs)("div",{className:y.a.info,children:["\u041f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u044b: ",e.profile.lookingForAJob?"\u0438\u0449\u0443":"\u043d\u0435 \u0438\u0449\u0443",Object(a.jsx)("hr",{className:y.a.hr})]}),e.profile.lookingForAJobDescription&&Object(a.jsxs)("div",{className:y.a.info,children:[Object(a.jsx)("b",{children:"\u041d\u0430\u0432\u044b\u043a\u0438 \u0440\u0430\u0431\u043e\u0442\u044b:"})," ",e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:"---",Object(a.jsx)("hr",{className:y.a.hr})]}),Object(a.jsxs)("div",{className:y.a.aboutMe&&y.a.info,children:[Object(a.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",e.profile.aboutMe?e.profile.aboutMe:"---",Object(a.jsx)("hr",{className:y.a.hr})]}),Object(a.jsxs)("div",{className:y.a.contacts,children:[Object(a.jsx)("div",{className:y.a.contactsText,children:Object(a.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"})}),Object(a.jsx)("div",{className:y.a.contactBlock,children:Object.keys(e.profile.contacts).map((function(t){return Object(a.jsx)(F,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))})]})]})]})},F=function(e){var t=e.contactTitle,s=e.contactValue;return Object(a.jsxs)("div",{className:y.a.contact,children:[Object(a.jsxs)("b",{children:[t,":"]}),s]})},J=function(e){var t=Object(h.useState)(!1),s=Object(S.a)(t,2),c=s[0],o=s[1];if(!e.profile)return Object(a.jsx)(T.a,{});var i=function(){var t=Object(k.a)(I.a.mark((function t(s){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveProfile(s);case 2:o(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:y.a.photoInfo,children:[Object(a.jsxs)("div",{className:y.a.descriptionBlock,children:[Object(a.jsx)("img",{src:e.profile.photos.large?e.profile.photos.large:B.a,alt:"",className:y.a.ProfileImage}),Object(a.jsx)("div",{className:y.a.status,children:Object(a.jsx)(A,{status:e.status,updateStatus:e.updateStatus})}),Object(a.jsxs)("div",{className:y.a.setPhoto,children:["\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e:",e.isOwner&&Object(a.jsx)("input",{className:y.a.input,type:"file",onChange:function(t){t.target.files.length&&e.savePhsoto(t.target.files[0])}})]})]}),c?Object(a.jsx)(M,{profile:e.profile,message:e.message,status:e.status,updateStatus:e.updateStatus,onSubmit:i,initialValues:e.profile}):Object(a.jsx)(q,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,goToEditMode:function(){o(!0)}})]})})},D=function(e){return Object(a.jsxs)("div",{className:l.a.content,children:[Object(a.jsx)(J,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,message:e.message}),Object(a.jsx)(g,{})]})},C=s(7),U=s(17),E=function(e){Object(i.a)(s,e);var t=Object(r.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.myUserId)||this.props.history.push("/login"),this.props.getUserProfileThunk(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){e.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(a.jsx)(D,{profile:this.props.profile,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,message:this.props.message})}}]),s}(m.a.Component),L=Object(U.d)(C.g)(E);t.default=Object(P.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,myUserId:e.auth.userId,isAuth:e.auth.isAuth,message:e.auth.message}}),{getUserProfileThunk:u.d,getStatus:u.c,updateStatus:u.g,savePhoto:u.e,saveProfile:u.f})(L)},97:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__100dt",input:"ProfileInfo_input__MN0pH",setPhoto:"ProfileInfo_setPhoto__crbHQ",BigImage:"ProfileInfo_BigImage__WPBMq",ProfileImage:"ProfileInfo_ProfileImage__1bng3",profileInfo:"ProfileInfo_profileInfo__RkN0O",button:"ProfileInfo_button__2ZeFb",margin:"ProfileInfo_margin__v5vNE",name:"ProfileInfo_name__J2wkh",info:"ProfileInfo_info__2ULyZ",textarea:"ProfileInfo_textarea__iZO1D",hr:"ProfileInfo_hr__3z7_0",profileInfoAction:"ProfileInfo_profileInfoAction__dsrQ1",error:"ProfileInfo_error__3563o",contacts:"ProfileInfo_contacts__2ekUY",contactsText:"ProfileInfo_contactsText__3e8Oe",contactBlock:"ProfileInfo_contactBlock__3skXk",contact:"ProfileInfo_contact__qYAYI",photoInfo:"ProfileInfo_photoInfo__1zy7P",discript:"ProfileInfo_discript__3G8Wb",redaction:"ProfileInfo_redaction__Ln47H",profileStatus:"ProfileInfo_profileStatus__3Rjm7",status:"ProfileInfo_status__TeqEx"}},98:function(e,t,s){e.exports={content:"Profile_content__3gPxi"}},99:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__i_Np9",posts:"MyPosts_posts__34CpT",public:"MyPosts_public__26ARC",button:"MyPosts_button__A-Vh3"}}}]);
//# sourceMappingURL=3.fd0b56f1.chunk.js.map